{% load static %}

<div class="feedback-container">

    <!-- switcher -->
    {% if request.path != '/feedback' %}
    <div class="feedback-switch" id="feedback-switch">
        <input type="checkbox" id="feedback-input" class="feedback-input" onclick="switch_feedback()">
        <label for="feedback-input">
            {% if not request.user.is_superuser %}
            <div class="feedback-middle-btn">
                <div class="message-icon"></div>
                <span class="feedback-title">Оставить заявку</span>
            </div>
            {% else %}
            <a href="{% url 'feedback_url' %}">
                <div class="feedback-middle-btn">
                    <div class="message-icon"></div>
                    <span class="feedback-title">Оставить заявку</span>
                </div>
            </a>
            {% endif %}
        </label>
    </div>
    {% endif %}

    <!-- form -->
    <div class="feedback-form" id="feedback-form">
        <div class="feedback-header">
            <div class="feedback-header-icon"></div>
            <div class="feedback-title">Оставить заявку</div>
        </div>
        <div class="feedback-description">
            Задайте Ваш вопрос здесь. Мы обязательно свяжемся с Вами!
        </div>
        <form action="{% url 'feedback_redirect_url' %}" method="post">
            {% csrf_token %}
            
            <label class="feedback-field" for="feedback-form-name" class="">
                <span class="material-symbols-outlined">person</span>
                <input type="text" name="name" id="feedback-form-name" required placeholder="Ваше имя">
            </label>

            <label class="feedback-field" for="feedback-form-contact" class="">
                <span class="material-symbols-outlined">manage_search</span>
                <input type="text" name="contact" id="feedback-form-contact" required placeholder="Телефон или email">
            </label>
            
            <label class="feedback-field" for="feedback-form-text" class="">
                <textarea name="text" id="feedback-form-text" required placeholder="Cообщение..."></textarea>
            </label>

            <div class="feedback-field">
                <input type="text" name="link" id="feedback-form-link" hidden value="{{ request.path }}">
            </div>

            <div class="feedback-send">
                <button type="submit">Отправить</button>
            </div>
        </form>
    </div>

    <!-- cross -->
    <div class="feedback-close" id="feedback-close">
        <input type="checkbox" id="feedback-close-input" onclick="switch_feedback()">
        <label for="feedback-close-input">
            <img src="{% static 'feedback/img/cross.png' %}" alt="cross.png" width="20px">
        </label>
    </div>

</div>

<script src="{% static 'feedback/js/feedback.js' %}"></script>